{
  "command": "brocade_netiron_show_metro",
  "source": "ntc",
  "status": "success",
  "match_ratio": 1.0,
  "textfsm_rows": 11,
  "ttp_rows": 11,
  "ttp_template": "<group name=\"ringid_ringstate_ringrole_mastervlan_topogroup_hellotime_prefwingtime\">\n{{ringid | re(\"\\\\d+\")}} {{ringstate | ORPHRASE}} {{ringrole}} {{mastervlan | re(\"\\\\d+\")}} {{topogroup}} {{hellotime}} {{prefwingtime | ORPHRASE}}\n</group>",
  "error": null,
  "textfsm_parsed": [
    {
      "ringid": "10",
      "vlantype": "REGULAR",
      "ringstate": "enabled",
      "ringrole": "member",
      "mastervlan": "10",
      "topogroup": "10",
      "hellotime": "100",
      "prefwingtime": "300",
      "port1interface": "1/1",
      "port1role": "primary",
      "port1state": "forwarding",
      "port1inttype": "regular",
      "port2interface": "2/1",
      "port2role": "secondary",
      "port2state": "forwarding",
      "port2inttype": "regular",
      "rhpssent": "10",
      "rhpsrecvd": "0",
      "tcrbpdusrecvd": "126",
      "statechanges": "0"
    },
    {
      "ringid": "14",
      "vlantype": "REGULAR",
      "ringstate": "enabled",
      "ringrole": "member",
      "mastervlan": "14",
      "topogroup": "14",
      "hellotime": "100",
      "prefwingtime": "300",
      "port1interface": "1/1",
      "port1role": "primary",
      "port1state": "forwarding",
      "port1inttype": "regular",
      "port2interface": "2/2",
      "port2role": "secondary",
      "port2state": "forwarding",
      "port2inttype": "regular",
      "rhpssent": "0",
      "rhpsrecvd": "0",
      "tcrbpdusrecvd": "0",
      "statechanges": "0"
    },
    {
      "ringid": "215",
      "vlantype": "REGULAR",
      "ringname": "CLMAMOFW-Backbone",
      "ringstate": "enabled",
      "ringrole": "master",
      "mastervlan": "215",
      "topogroup": "215",
      "hellotime": "100",
      "prefwingtime": "300",
      "port1interface": "4/3",
      "port1role": "primary",
      "port1state": "forwarding",
      "port1inttype": "regular",
      "port2interface": "3/3",
      "port2role": "secondary",
      "port2state": "blocking",
      "port2inttype": "regular",
      "rhpssent": "18288470",
      "rhpsrecvd": "18195932",
      "tcrbpdusrecvd": "0",
      "statechanges": "259"
    },
    {
      "ringid": "13",
      "vlantype": "REGULAR",
      "ringname": "CLMAXA-FW-Telecom",
      "ringstate": "enabled",
      "ringrole": "member",
      "mastervlan": "513",
      "topogroup": "13",
      "hellotime": "100",
      "prefwingtime": "300",
      "port1interface": "3/3",
      "port1role": "primary",
      "port1state": "forwarding",
      "port1inttype": "regular",
      "port2interface": "4/3",
      "port2role": "secondary",
      "port2state": "forwarding",
      "port2inttype": "regular",
      "rhpssent": "4",
      "rhpsrecvd": "0",
      "tcrbpdusrecvd": "16",
      "statechanges": "0"
    },
    {
      "ringid": "171",
      "vlantype": "REGULAR",
      "ringname": "CLMA-KSCY-STLS-10G-C",
      "ringstate": "enabled",
      "ringrole": "member",
      "mastervlan": "170",
      "topogroup": "170",
      "hellotime": "100",
      "prefwingtime": "300",
      "port1interface": "3/3",
      "port1role": "primary",
      "port1state": "forwarding",
      "port1inttype": "regular",
      "port2interface": "4/3",
      "port2role": "secondary",
      "port2state": "forwarding",
      "port2inttype": "regular",
      "rhpssent": "4",
      "rhpsrecvd": "0",
      "tcrbpdusrecvd": "22",
      "statechanges": "0"
    },
    {
      "ringid": "175",
      "vlantype": "REGULAR",
      "ringname": "CLMAMO10G-to-FW",
      "ringstate": "enabled",
      "ringrole": "member",
      "mastervlan": "175",
      "topogroup": "175",
      "hellotime": "100",
      "prefwingtime": "300",
      "port1interface": "3/3",
      "port1role": "primary",
      "port1state": "forwarding",
      "port1inttype": "regular",
      "port2interface": "4/3",
      "port2role": "secondary",
      "port2state": "forwarding",
      "port2inttype": "regular",
      "rhpssent": "4",
      "rhpsrecvd": "0",
      "tcrbpdusrecvd": "20",
      "statechanges": "0"
    },
    {
      "ringid": "176",
      "vlantype": "REGULAR",
      "ringname": "FW-to-CLMAMO10G",
      "ringstate": "enabled",
      "ringrole": "member",
      "mastervlan": "175",
      "topogroup": "175",
      "hellotime": "100",
      "prefwingtime": "300",
      "port1interface": "1/1",
      "port1role": "primary",
      "port1state": "forwarding",
      "port1inttype": "regular",
      "port2interface": "2/2",
      "port2role": "secondary",
      "port2state": "forwarding",
      "port2inttype": "regular",
      "rhpssent": "0",
      "rhpsrecvd": "0",
      "tcrbpdusrecvd": "3",
      "statechanges": "0"
    },
    {
      "ringid": "60",
      "vlantype": "REGULAR",
      "ringstate": "enabled",
      "ringrole": "member",
      "mastervlan": "60",
      "topogroup": "60",
      "hellotime": "100",
      "prefwingtime": "300",
      "port1interface": "3/3",
      "port1role": "primary",
      "port1state": "forwarding",
      "port1inttype": "tunnel",
      "port2interface": "4/3",
      "port2role": "secondary",
      "port2state": "forwarding",
      "port2inttype": "tunnel",
      "rhpssent": "0",
      "rhpsrecvd": "0",
      "tcrbpdusrecvd": "9",
      "statechanges": "0"
    },
    {
      "ringid": "61",
      "vlantype": "REGULAR",
      "ringstate": "enabled",
      "ringrole": "member",
      "mastervlan": "60",
      "topogroup": "60",
      "hellotime": "100",
      "prefwingtime": "300",
      "port1interface": "4/3",
      "port1role": "primary",
      "port1state": "forwarding",
      "port1inttype": "tunnel",
      "port2interface": "4/2",
      "port2role": "secondary",
      "port2state": "forwarding",
      "port2inttype": "regular",
      "rhpssent": "0",
      "rhpsrecvd": "0",
      "tcrbpdusrecvd": "42",
      "statechanges": "0"
    },
    {
      "ringid": "63",
      "vlantype": "REGULAR",
      "ringstate": "enabled",
      "ringrole": "member",
      "mastervlan": "62",
      "topogroup": "62",
      "hellotime": "100",
      "prefwingtime": "300",
      "port1interface": "4/3",
      "port1role": "primary",
      "port1state": "forwarding",
      "port1inttype": "regular",
      "port2interface": "4/2",
      "port2role": "secondary",
      "port2state": "forwarding",
      "port2inttype": "regular",
      "rhpssent": "0",
      "rhpsrecvd": "0",
      "tcrbpdusrecvd": "122",
      "statechanges": "0"
    },
    {
      "ringid": "58",
      "vlantype": "REGULAR",
      "ringstate": "enabled",
      "ringrole": "member",
      "mastervlan": "60",
      "topogroup": "60",
      "hellotime": "100",
      "prefwingtime": "300",
      "port1interface": "4/3",
      "port1role": "primary",
      "port1state": "forwarding",
      "port1inttype": "regular",
      "port2interface": "3/3",
      "port2role": "secondary",
      "port2state": "forwarding",
      "port2inttype": "regular",
      "rhpssent": "7",
      "rhpsrecvd": "0",
      "tcrbpdusrecvd": "0",
      "statechanges": "0"
    }
  ],
  "ttp_parsed": [
    {
      "ringid_ringstate_ringrole_mastervlan_topogroup_hellotime_prefwingtime": [
        {
          "ringid": "10",
          "ringstate": "enabled",
          "ringrole": "member",
          "mastervlan": "10",
          "topogroup": "10",
          "hellotime": "100",
          "prefwingtime": "300"
        },
        {
          "ringid": "14",
          "ringstate": "enabled",
          "ringrole": "member",
          "mastervlan": "14",
          "topogroup": "14",
          "hellotime": "100",
          "prefwingtime": "300"
        },
        {
          "ringid": "215",
          "ringstate": "enabled",
          "ringrole": "master",
          "mastervlan": "215",
          "topogroup": "215",
          "hellotime": "100",
          "prefwingtime": "300"
        },
        {
          "ringid": "13",
          "ringstate": "enabled",
          "ringrole": "member",
          "mastervlan": "513",
          "topogroup": "13",
          "hellotime": "100",
          "prefwingtime": "300"
        },
        {
          "ringid": "171",
          "ringstate": "enabled",
          "ringrole": "member",
          "mastervlan": "170",
          "topogroup": "170",
          "hellotime": "100",
          "prefwingtime": "300"
        },
        {
          "ringid": "175",
          "ringstate": "enabled",
          "ringrole": "member",
          "mastervlan": "175",
          "topogroup": "175",
          "hellotime": "100",
          "prefwingtime": "300"
        },
        {
          "ringid": "176",
          "ringstate": "enabled",
          "ringrole": "member",
          "mastervlan": "175",
          "topogroup": "175",
          "hellotime": "100",
          "prefwingtime": "300"
        },
        {
          "ringid": "60",
          "ringstate": "enabled",
          "ringrole": "member",
          "mastervlan": "60",
          "topogroup": "60",
          "hellotime": "100",
          "prefwingtime": "300"
        },
        {
          "ringid": "61",
          "ringstate": "enabled",
          "ringrole": "member",
          "mastervlan": "60",
          "topogroup": "60",
          "hellotime": "100",
          "prefwingtime": "300"
        },
        {
          "ringid": "63",
          "ringstate": "enabled",
          "ringrole": "member",
          "mastervlan": "62",
          "topogroup": "62",
          "hellotime": "100",
          "prefwingtime": "300"
        },
        {
          "ringid": "58",
          "ringstate": "enabled",
          "ringrole": "member",
          "mastervlan": "60",
          "topogroup": "60",
          "hellotime": "100",
          "prefwingtime": "300"
        }
      ]
    }
  ],
  "cli_content": "\nMetro Ring 10 - VLAN Type REGULAR\n==============\nRing       State      Ring       Master     Topo       Hello      Prefwing\nid                    role       vlan       group      time(ms)   time(ms)\n10         enabled    member     10         10         100        300\n\nRing interfaces Interface role  Interface state interface type \nethernet 1/1    primary         forwarding      regular        \nethernet 2/1    secondary       forwarding      regular        \n\nRHPs sent       RHPs rcvd       TC rcvd    TC sent    State changes\n10              0               126        0          30\n\nMetro Ring 14 - VLAN Type REGULAR\n==============\nRing       State      Ring       Master     Topo       Hello      Prefwing\nid                    role       vlan       group      time(ms)   time(ms)\n14         enabled    member     14         14         100        300\n\nRing interfaces Interface role  Interface state interface type \nethernet 1/1    primary         forwarding      regular        \nethernet 2/2    secondary       forwarding      regular        \n                                                                  \nRHPs sent       RHPs rcvd       TC rcvd    TC sent    State changes\n0               0               0          0          0\n\nMetro Ring 215 - VLAN Type REGULAR - CLMAMOFW-Backbone\n==============\nRing       State      Ring       Master     Topo       Hello      Prefwing\nid                    role       vlan       group      time(ms)   time(ms)\n215        enabled    master     215        215        100        300\n\nRing interfaces Interface role  Interface state interface type \nethernet 4/3    primary         forwarding      regular        \nethernet 3/3    secondary       blocking        regular        \n\nRHPs sent       RHPs rcvd       TC rcvd    TC sent    State changes\n18288470        18195932        0          259        148\n\nMetro Ring 13 - VLAN Type REGULAR - CLMAXA-FW-Telecom\n==============\nRing       State      Ring       Master     Topo       Hello      Prefwing\nid                    role       vlan       group      time(ms)   time(ms)\n13         enabled    member     513        13         100        300\n\nRing interfaces Interface role  Interface state interface type    \nethernet 3/3    primary         forwarding      regular        \nethernet 4/3    secondary       forwarding      regular        \n\nRHPs sent       RHPs rcvd       TC rcvd    TC sent    State changes\n4               0               16         0          33\n\nMetro Ring 171 - VLAN Type REGULAR - CLMA-KSCY-STLS-10G-C\n==============\nRing       State      Ring       Master     Topo       Hello      Prefwing\nid                    role       vlan       group      time(ms)   time(ms)\n171        enabled    member     170        170        100        300\n\nRing interfaces Interface role  Interface state interface type \nethernet 3/3    primary         forwarding      regular        \nethernet 4/3    secondary       forwarding      regular        \n\nRHPs sent       RHPs rcvd       TC rcvd    TC sent    State changes\n4               0               22         0          33\n\nMetro Ring 175 - VLAN Type REGULAR - CLMAMO10G-to-FW\n==============\nRing       State      Ring       Master     Topo       Hello      Prefwing\nid                    role       vlan       group      time(ms)   time(ms)\n175        enabled    member     175        175        100        300\n\nRing interfaces Interface role  Interface state interface type \nethernet 3/3    primary         forwarding      regular        \nethernet 4/3    secondary       forwarding      regular        \n\nRHPs sent       RHPs rcvd       TC rcvd    TC sent    State changes\n4               0               20         0          33\n\nMetro Ring 176 - VLAN Type REGULAR - FW-to-CLMAMO10G\n==============\nRing       State      Ring       Master     Topo       Hello      Prefwing\nid                    role       vlan       group      time(ms)   time(ms)\n176        enabled    member     175        175        100        300\n\nRing interfaces Interface role  Interface state interface type \nethernet 1/1    primary         forwarding      regular        \nethernet 2/2    secondary       forwarding      regular        \n\nRHPs sent       RHPs rcvd       TC rcvd    TC sent    State changes\n0               0               3          0          0\n\nMetro Ring 60 - VLAN Type REGULAR                                 \n==============\nRing       State      Ring       Master     Topo       Hello      Prefwing\nid                    role       vlan       group      time(ms)   time(ms)\n60         enabled    member     60         60         100        300\n\nRing interfaces Interface role  Interface state interface type \nethernet 3/3    primary         forwarding      tunnel         \nethernet 4/3    secondary       forwarding      tunnel         \n\nRHPs sent       RHPs rcvd       TC rcvd    TC sent    State changes\n0               0               9          0          33\n\nMetro Ring 61 - VLAN Type REGULAR\n==============\nRing       State      Ring       Master     Topo       Hello      Prefwing\nid                    role       vlan       group      time(ms)   time(ms)\n61         enabled    member     60         60         100        300\n\nRing interfaces Interface role  Interface state interface type \nethernet 4/3    primary         forwarding      tunnel         \nethernet 4/2    secondary       forwarding      regular        \n\nRHPs sent       RHPs rcvd       TC rcvd    TC sent    State changes\n0               0               42         0          12\n\nMetro Ring 63 - VLAN Type REGULAR\n==============\nRing       State      Ring       Master     Topo       Hello      Prefwing\nid                    role       vlan       group      time(ms)   time(ms)\n63         enabled    member     62         62         100        300\n\nRing interfaces Interface role  Interface state interface type \nethernet 4/3    primary         forwarding      regular        \nethernet 4/2    secondary       forwarding      regular        \n\nRHPs sent       RHPs rcvd       TC rcvd    TC sent    State changes\n0               0               122        0          12\n\nMetro Ring 58 - VLAN Type REGULAR\n==============\nRing       State      Ring       Master     Topo       Hello      Prefwing\nid                    role       vlan       group      time(ms)   time(ms)\n58         enabled    member     60         60         100        300\n\nRing interfaces Interface role  Interface state interface type \nethernet 4/3    primary         forwarding      regular           \nethernet 3/3    secondary       forwarding      regular        \n\nRHPs sent       RHPs rcvd       TC rcvd    TC sent    State changes\n7               0               0          0          33\n",
  "textfsm_template": "Value ringid (\\d+)\nValue Required vlantype (\\w+)\nValue ringname ([a-zA-Z0-9\\-\\\"\\ ]+)\nValue ringstate (enabled|disabled)\nValue ringrole (member|master)\nValue mastervlan (\\d+)\nValue topogroup (\\d+|not conf)\nValue hellotime (\\d+)\nValue prefwingtime (\\d+)\nValue port1interface ([0-9\\/]+)\nValue port1role (primary|secondary)\nValue port1state (\\w+)\nValue port1inttype (\\w+)\nValue port2interface ([0-9\\/]+)\nValue port2role (primary|secondary)\nValue port2state (\\w+)\nValue port2inttype (\\w+)\nValue rhpssent (\\d+)\nValue rhpsrecvd (\\d+)\nValue tcrbpdusrecvd (\\d+)\nValue statechanges (\\d+)\n\nStart\n  ^Metro Ring ${ringid} - VLAN Type ${vlantype} -> Continue\n  ^Metro Ring ${ringid} - VLAN Type ${vlantype} - ${ringname}\n  ^\\d+\\s+${ringstate}\\s+${ringrole}\\s+${mastervlan}\\s+${topogroup}\\s+${hellotime}\\s+${prefwingtime}\n  ^${rhpssent}\\s+${rhpsrecvd}\\s+${tcrbpdusrecvd}\\s+${statechanges} -> Record\n  ^ethernet\\s+${port1interface}\\s+${port1role}\\s+${port1state}\\s+${port1inttype} -> PORT2\n\nPORT2\n  ^ethernet\\s+${port2interface}\\s+${port2role}\\s+${port2state}\\s+${port2inttype} -> Start\n"
}