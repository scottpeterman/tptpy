{
  "command": "cisco_apic_fabric_show_vlan_extended",
  "source": "ntc",
  "status": "success",
  "match_ratio": 1.5,
  "textfsm_rows": 4,
  "ttp_rows": 6,
  "ttp_template": "<group name=\"node_number_node_name\">\n Node {{NODE_NUMBER}} ({{NODE_NAME | ORPHRASE}})\n</group>\n<group name=\"vlan_id_vlan_name_vlan_encap_vlan_ports\">\n {{VLAN_ID | re(\"\\\\d+\")}} {{VLAN_NAME | ORPHRASE}} {{VLAN_ENCAP | ORPHRASE}} {{VLAN_PORTS | ORPHRASE}} \n</group>\n<group name=\"vlan_id_vlan_encap_vlan_ports\">\n {{VLAN_ID | re(\"\\\\d+\")}} NSO-XDOMAIN:Traffic- {{VLAN_ENCAP | ORPHRASE}} {{VLAN_PORTS | ORPHRASE}} \n</group>\n<group name=\"vlan_id_vlan_name_vlan_ports\">\n {{VLAN_ID | re(\"\\\\d+\")}} {{VLAN_NAME | ORPHRASE}} vxlan-16777209, {{VLAN_PORTS | ORPHRASE}} \n</group>",
  "error": null,
  "textfsm_parsed": [
    {
      "VLAN_ID": "9",
      "VLAN_NAME": "5GC-N6:N3-INT:l3out-UPF-N3-INT-, VRF-FLT:vlan-541",
      "VLAN_ENCAP": "vxlan-15171532,, vlan-541",
      "VLAN_PORTS": "Eth1/1, Eth1/2, Eth1/3, , Eth1/4, Eth1/5, Eth1/6, , Eth1/7, Eth1/8, Eth1/9, , Eth1/10, Eth1/11, , Eth1/12, Eth1/13, , Eth1/14, Eth1/15, , Eth1/16, Eth1/17, , Eth1/18, Eth1/19, , Eth1/20, Eth1/21, , Eth1/22, Eth1/23, , Eth1/24, Eth1/28, , Eth1/29, Eth1/30, , Eth1/31, Eth1/32, , Eth1/33, Eth1/34, , Eth1/35, Eth1/36, , Eth1/37, Eth1/38, , Eth1/39, Eth1/40, , Eth1/41, Eth1/42, , Eth1/43, Po1, Po2",
      "NODE_NUMBER": "203",
      "NODE_NAME": "lab1r00002-ne-RDC-LF3"
    },
    {
      "VLAN_ID": "11",
      "VLAN_NAME": "NSO-XDOMAIN:Source-TG-BD",
      "VLAN_ENCAP": "vxlan-16318378",
      "VLAN_PORTS": "Eth1/16",
      "NODE_NUMBER": "203",
      "NODE_NAME": "lab1r00002-ne-RDC-LF3"
    },
    {
      "VLAN_ID": "12",
      "VLAN_NAME": "NSO-XDOMAIN:Traffic-, Generators:source-tg-epg",
      "VLAN_ENCAP": "vlan-621",
      "VLAN_PORTS": "Eth1/16",
      "NODE_NUMBER": "203",
      "NODE_NAME": "lab1r00002-ne-RDC-LF3"
    },
    {
      "VLAN_ID": "14",
      "VLAN_NAME": "infra:default",
      "VLAN_ENCAP": "vxlan-16777209,, vlan-3914",
      "VLAN_PORTS": "Eth1/1, Eth1/48",
      "NODE_NUMBER": "203",
      "NODE_NAME": "lab1r00002-ne-RDC-LF3"
    }
  ],
  "ttp_parsed": [
    {
      "node_number_node_name": {
        "NODE_NUMBER": "203",
        "NODE_NAME": "lab1r00002-ne-RDC-LF3"
      },
      "vlan_id_vlan_name_vlan_encap_vlan_ports": [
        {
          "VLAN_ID": "11",
          "VLAN_NAME": "NSO-XDOMAIN:Source-TG-BD",
          "VLAN_ENCAP": "vxlan-16318378",
          "VLAN_PORTS": "Eth1/16"
        },
        {
          "VLAN_ID": "12",
          "VLAN_NAME": "NSO-XDOMAIN:Traffic-",
          "VLAN_ENCAP": "vlan-621",
          "VLAN_PORTS": "Eth1/16"
        },
        {
          "VLAN_ID": "14",
          "VLAN_NAME": "infra:default",
          "VLAN_ENCAP": "vxlan-16777209,",
          "VLAN_PORTS": "Eth1/1, Eth1/48"
        }
      ],
      "vlan_id_vlan_encap_vlan_ports": {
        "VLAN_ID": "12",
        "VLAN_ENCAP": "vlan-621",
        "VLAN_PORTS": "Eth1/16"
      },
      "vlan_id_vlan_name_vlan_ports": {
        "VLAN_ID": "14",
        "VLAN_NAME": "infra:default",
        "VLAN_PORTS": "Eth1/1, Eth1/48"
      }
    }
  ],
  "cli_content": "apic1# fabric 203 show vlan extended\n----------------------------------------------------------------\n Node 203 (lab1r00002-ne-RDC-LF3)\n----------------------------------------------------------------\n\n VLAN Name                             Encap            Ports                    \n ---- -------------------------------- ---------------- ------------------------ \n9    5GC-N6:N3-INT:l3out-UPF-N3-INT-  vxlan-15171532,  Eth1/1, Eth1/2, Eth1/3,  \n      VRF-FLT:vlan-541                 vlan-541         Eth1/4, Eth1/5, Eth1/6,  \n                                                        Eth1/7, Eth1/8, Eth1/9,  \n                                                        Eth1/10, Eth1/11,        \n                                                        Eth1/12, Eth1/13,        \n                                                        Eth1/14, Eth1/15,        \n                                                        Eth1/16, Eth1/17,        \n                                                        Eth1/18, Eth1/19,        \n                                                        Eth1/20, Eth1/21,        \n                                                        Eth1/22, Eth1/23,        \n                                                        Eth1/24, Eth1/28,        \n                                                        Eth1/29, Eth1/30,        \n                                                        Eth1/31, Eth1/32,        \n                                                        Eth1/33, Eth1/34,        \n                                                        Eth1/35, Eth1/36,        \n                                                        Eth1/37, Eth1/38,        \n                                                        Eth1/39, Eth1/40,        \n                                                        Eth1/41, Eth1/42,        \n                                                        Eth1/43, Po1, Po2        \n 11   NSO-XDOMAIN:Source-TG-BD         vxlan-16318378   Eth1/16                  \n 12   NSO-XDOMAIN:Traffic-             vlan-621         Eth1/16                  \n      Generators:source-tg-epg                                                   \n 14   infra:default                    vxlan-16777209,  Eth1/1, Eth1/48          \n                                       vlan-3914\n",
  "textfsm_template": "Value Required VLAN_ID (\\d+)\nValue List VLAN_NAME ([\\w:-]+)\nValue List VLAN_ENCAP ([\\w:-]+,?)\nValue List VLAN_PORTS ((\\S+,?\\s?)+)\nValue Filldown NODE_NUMBER (\\d+)\nValue Filldown NODE_NAME (\\S+)\n                     \nStart\n  ^\\s*$$\n  ^.+\\sfabric\\s\n  ^---+$$\n  ^\\s*Node\\s${NODE_NUMBER}\\s\\(${NODE_NAME}\\)\n  ^\\s*VLAN\\s+Name\\s.+Ports.*$$ -> VLANS\n  # Capture time-stamp if vty line has command time-stamping turned on\n  ^. -> Error\n\nVLANS\n  ^ \\d+ -> Continue.Record\n  ^\\s*--+\\s+---\n  ^\\s{0,3}${VLAN_ID}\\s+${VLAN_NAME}\\s+${VLAN_ENCAP}\\s+${VLAN_PORTS}\\s*$$\n  ^\\s{4,6}${VLAN_NAME}\\s+${VLAN_ENCAP}\\s+${VLAN_PORTS}\n  ^\\s{4,6}${VLAN_NAME}\\s*$$\n  ^\\s{38,40}${VLAN_ENCAP}\\s*$$\n  ^\\s{54}\\s+${VLAN_PORTS}\\s*$$\n  ^. -> Error\n\n    "
}